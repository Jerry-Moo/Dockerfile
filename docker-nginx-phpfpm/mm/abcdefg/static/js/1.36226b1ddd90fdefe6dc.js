webpackJsonp([1],{"0R0T":function(t,a){},"5KEq":function(t,a){},FPoM:function(t,a){},LSYw:function(t,a){},Yibb:function(t,a,e){"use strict";var i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.visibleFlag?e("div",{staticClass:"wave-dialog",style:t.data.__style},[e("div",{staticClass:"con"},[e("div",{staticClass:"title"},[t.data.logo?e("div",{staticClass:"logo"},[t.data.logo?e("img",{attrs:{src:t.data.logo,alt:""}}):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"text",domProps:{innerHTML:t._s(t.data.title)}},[t._v(t._s(t.data.title))])]),t._v(" "),t._t("default"),t._v(" "),t.data.icon?e("div",{staticClass:"icon"},[e("img",{attrs:{src:t.data.icon,alt:""}})]):t._e(),t._v(" "),t.data.dec?e("div",{staticClass:"dec",domProps:{innerHTML:t._s(t.data.dec)}},[t._v("\n      "+t._s(t.data.dec)+"\n    ")]):t._e(),t._v(" "),t.data.text?e("div",{staticClass:"dec",domProps:{innerHTML:t._s(t.data.text)}},[t._v("\n      "+t._s(t.data.text)+"\n    ")]):t._e(),t._v(" "),e("div",{staticClass:"action"},[e("ul",{staticClass:"action-list"},t._l(t.data.action,function(a,i){return e("li",{key:i,staticClass:"action-item"},["dialog"===a.__type?e("div",{staticClass:"btn",on:{click:function(a){return t.hide()}}},[t._v("\n            "+t._s(a.name)+"\n          ")]):t._e(),t._v(" "),"confirm"===a.__type?e("div",{staticClass:"btn",on:{click:function(a){return t.receive()}}},[t._v("\n            "+t._s(a.name)+"\n          ")]):t._e()])}),0)])],2)]):t._e()},staticRenderFns:[]};var s=e("VU/8")({name:"WaveDialog",props:{data:{default:function(){return{}}}},data:function(){return{visibleFlag:!0}},methods:{show:function(){this.visibleFlag=!0},hide:function(){this.visibleFlag=!1},receive:function(){this.$emit("receive")}}},i,!1,function(t){e("5KEq")},null,null);a.a=s.exports},"nm+p":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("mvHQ"),s=e.n(i),n=e("woOf"),r=e.n(n),o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.visibleFlag?e("div",{staticClass:"wave-show"},[e("div",{staticClass:"con"},[e("div",{staticClass:"icon"},[e("img",{attrs:{src:t.data.icon,alt:""}})]),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(t.data.title))]),t._v(" "),e("div",{staticClass:"name"},[t._v(t._s(t.data.name))]),t._v(" "),e("div",{staticClass:"action"},[e("div",{staticClass:"btn",on:{click:function(a){return t.click()}}},[t._v(t._s(t.data.action))])])])]):t._e()},staticRenderFns:[]};var l={name:"WaveGame",props:{data:{default:function(){return{}}}},data:function(){return{prizeList:[],bgIcon:"",actionText:"",limitText:"",limitNum:"",carryNum:"",gameCount:0,gameFlag:!0,startAngle:0,rotateAngle:"rotate(0deg)",rotateTransition:"transform 6s ease-in-out",currentData:""}},created:function(){this.initData()},mounted:function(){this.initStyle()},methods:{initData:function(){this.actionText=this.data.action,this.bgIcon=this.data.icon,this.prizeList=[].concat(this.data.list),this.limitText=this.data.limit_text,this.limitNum=this.data.limit_num,this.carryNum=this.data.carry_num,this.prizeNum=this.data.prize_num,this.gameCount=0},initStyle:function(){var t=this,a=document.querySelector(".block-list").offsetHeight,e=document.querySelector(".block-list"),i=document.querySelectorAll(".block-item"),s=document.querySelector(".prize-list"),n=document.querySelectorAll(".prize-item"),r=document.querySelector(".lamp-list").offsetHeight,o=document.querySelectorAll(".lamp-item"),l=360/this.prizeList.length,c=l*Math.PI/180,m=Math.tan(c/2)*a;e.style.transform=e.style["-webkit-transform"]="rotate("+-l/2+"deg)",s.style.transform=s.style["-webkit-transform"]="rotate("+-l/2+"deg)",[].forEach.call(i,function(t,e){t.style.transform=t.style["-webkit-transform"]="translateX(-50%) rotate("+l*e+"deg)",t.style["border-top-width"]=t.style["-webkit-border-top-width"]=a+"px",t.style["border-left-width"]=t.style["-webkit-border-left-width"]=m+"px",t.style["border-right-width"]=t.style["-webkit-border-right-width"]=m+"px",t.style["border-width"]=t.style["-webkit-border-width"]=a+"px"+m+"px"+m+"px0px"}),[].forEach.call(n,function(a,e){a.style.transform=a.style["-webkit-transform"]="rotateZ("+e*(360/t.prizeList.length)+"deg)"}),[].forEach.call(o,function(t,e){t.style["transform-origin"]=t.style["-webkit-transform-origin"]="center "+(a+r)+"px",t.style.transform=t.style["-webkit-transform"]="rotate("+15*e+"deg)"})},startGame:function(){!this.gameFlag||this.limitNum<=0||(this.counter.addClickEvent(),this.gameFlag=!1,this.limitNum-=1,this.gameCount+=1,this.gameCount!==this.carryNum&&this.loseGame(),this.gameCount===this.carryNum&&this.winGame())},loseGame:function(){var t=this,a=this.getFaleIndex();this.scrollGame(a),setTimeout(function(){t.gameFlag=!0,t.currentData=t.prizeList[a],t.$refs.WaveShow.show()},8200)},winGame:function(){var t=this,a=this.prizeNum;this.scrollGame(a),setTimeout(function(){t.currentData=t.prizeList[a],t.$refs.WaveShow.show()},8200)},scrollGame:function(t){var a=this,e=t,i=this.getRouteArr(),s=this.startAngle+2160+i[e]-this.startAngle%360;this.startAngle=s,this.rotateTransition="transform 6s ease-in-out",this.rotateAngle="rotate("+(s+5)+"deg)",setTimeout(function(){a.rotateTransition="transform 2s ease-out",a.rotateAngle="rotate("+s+"deg)"},6e3)},stopGame:function(){this.currentData.prize?this.$emit("stopGame",this.currentData):(this.$refs.WaveShow.hide(),this.startGame())},getRouteArr:function(){for(var t=[],a=360/this.prizeList.length,e=360/(2*this.prizeList.length)-5,i=0;i<this.prizeList.length;i++)t.push(360+a/2-a*i+this.randomNum(-e,e));return t},getFaleIndex:function(){var t=this.prizeList.filter(function(t){return!t.prize});return t[Math.floor(Math.random()*t.length)]._index},randomNum:function(t,a){return parseInt(Math.random()*(a-t+1)+t,10)}},components:{WaveShow:e("VU/8")({name:"WaveShow",props:{data:{default:function(){return{}}}},data:function(){return{visibleFlag:!1}},methods:{show:function(){this.visibleFlag=!0},hide:function(){this.visibleFlag=!1},click:function(){this.$emit("click")}}},o,!1,function(t){e("LSYw")},"data-v-5cf15dbb",null).exports}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wave-game",style:t.data.__style},[e("div",{staticClass:"count-box"},[e("span",[t._v(t._s(t.limitNum)+" "+t._s(t.limitText))])]),t._v(" "),e("div",{staticClass:"wheel-box"},[e("div",{staticClass:"pointer"}),t._v(" "),e("div",{staticClass:"action"},[e("span",{staticClass:"btn",on:{click:function(a){return t.startGame()}}},[t._v(t._s(t.actionText))])]),t._v(" "),e("div",{staticClass:"wrap",style:{transition:t.rotateTransition,transform:t.rotateAngle}},[e("div",{staticClass:"con"},[e("ul",{staticClass:"block-list"},t._l(t.prizeList,function(t,a){return e("li",{key:a,staticClass:"block-item",class:{active:t.prize}})}),0),t._v(" "),e("ul",{staticClass:"prize-list"},t._l(t.prizeList,function(a,i){return e("li",{key:i,staticClass:"prize-item",class:{active:a.prize}},[e("div",{staticClass:"name"},[t._v(t._s(a.name))]),t._v(" "),e("div",{staticClass:"icon"},[e("img",{attrs:{src:a.icon,alt:""}})])])}),0)]),t._v(" "),e("ul",{staticClass:"lamp-list"},t._l(24,function(t,a){return e("li",{key:a,staticClass:"lamp-item"},[e("div",{staticClass:"lamp",class:{active:a%2>0}})])}),0)])]),t._v(" "),e("wave-show",{ref:"WaveShow",attrs:{data:t.currentData},on:{click:function(a){return t.stopGame()}}})],1)},staticRenderFns:[]};var m=e("VU/8")(l,c,!1,function(t){e("0R0T")},"data-v-142e2ece",null).exports,u={name:"WavePop",props:{data:{default:function(){return{}}}},data:function(){return{visible:!1}},methods:{show:function(){var t=this;this.visible||(this.visible=!0,setTimeout(function(){t.visible=!1},3e3))},hide:function(){this.visible=!1}}},d={render:function(){var t=this.$createElement,a=this._self._c||t;return a("transition",{attrs:{name:"sliderdown"}},[this.visible?a("div",{staticClass:"wave-pop"},[a("div",{staticClass:"con"},[this._v(this._s(this.data.title))])]):this._e()])},staticRenderFns:[]};var h={name:"WaveComment",props:{data:{default:function(){return{title:"",new:{},list:[]}}}},data:function(){return{sentFlag:!0,currentCommentData:{}}},created:function(){this.init()},methods:{init:function(){this.currentCommentData=r()({},this.data.new)},sentNewLike:function(){this.$refs.WavePop.show(),this.util._scrollTop(0,300)},sentNewComment:function(){this.currentCommentData.title="",this.$refs.WavePop.show(),this.util._scrollTop(0,300)}},components:{WavePop:e("VU/8")(u,d,!1,function(t){e("FPoM")},"data-v-1ea7812a",null).exports}},v={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"wave-comment",style:t.data.__style},[i("wave-pop",{ref:"WavePop",attrs:{data:t.data.pop}}),t._v(" "),i("div",{staticClass:"comment-title"},[i("img",{attrs:{src:e("yXPG"),alt:""}}),t._v(" "),i("span",[t._v(t._s(t.data.title))])]),t._v(" "),i("div",{staticClass:"comment-con"},[i("ul",{staticClass:"comment-list"},t._l(t.data.list,function(a,s){return i("li",{key:s,staticClass:"comment-item"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:a.avatar,alt:"avatar"}})]),t._v(" "),i("div",{staticClass:"con"},[i("div",{staticClass:"name"},[t._v(t._s(a.name))]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(a.title))]),t._v(" "),a.show?i("div",{staticClass:"show"},[i("img",{attrs:{src:a.show,alt:""}})]):t._e(),t._v(" "),i("div",{staticClass:"msg"},[a.reply?i("div",{staticClass:"reply",on:{click:function(a){return t.sentNewLike()}}},[t._v(t._s(a.reply))]):t._e(),t._v(" "),a.likes?i("div",{staticClass:"likes",on:{click:function(a){return t.sentNewLike()}}},[i("img",{attrs:{src:e("yXPG"),alt:""}}),t._v(" "),i("span",[t._v(t._s(a.likes))])]):t._e(),t._v(" "),a.time?i("div",{staticClass:"time"},[t._v(t._s(a.time))]):t._e()])])])}),0),t._v(" "),i("div",{staticClass:"comment-more",on:{click:function(a){return t.sentNewLike()}}},[i("span",[t._v(t._s(t.data.more))])]),t._v(" "),i("div",{staticClass:"comment-action"},[i("div",{staticClass:"input-wrap"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCommentData.title,expression:"currentCommentData.title"}],attrs:{placeholder:"",type:"text",readonly:"readonly"},domProps:{value:t.currentCommentData.title},on:{click:function(a){return a.preventDefault(),t.sentNewLike()},input:function(a){a.target.composing||t.$set(t.currentCommentData,"title",a.target.value)}}})]),t._v(" "),t.sentFlag?i("button",{staticClass:"btn-sent active",on:{click:function(a){return t.sentNewComment()}}},[t._v(t._s(t.data.action))]):i("button",{staticClass:"btn-sent"},[t._v("...")])])])],1)},staticRenderFns:[]};var p=e("VU/8")(h,v,!1,function(t){e("q/Qz")},"data-v-9b3778dc",null).exports,g=e("Yibb"),f=e("oQxe"),_={name:"PageMain",data:function(){return{pageToken:"adswave",paramList:{},setting:{},baseUrl:"",jumpUrl:"",loadingFlag:!1,pageGameFlag:!0,pageCommentFlag:!0,pageDialogFlag:!0,pageAllData:"",pageDialogData:"",pageGameData:"",pageCommentData:"",currentPrizeData:""}},computed:{config:function(){return this.$store.state.config}},mounted:function(){this.initPageData(),this.initPageParams(),this.initPageType()},methods:{initPageData:function(){this.setting=this.config||"",this.pageAllData=this.config.module_main||"",this.pageDialogData=this.pageAllData.dialog_data||"",this.pageGameData=this.pageAllData.game_data||"",this.pageCommentData=this.pageAllData.comment_data||""},initPageParams:function(){this.paramList=r()(this.paramList,this.util._getQueryObj()),this.baseUrl=this.setting.__baseUrl||"",this.jumpUrl=this.setting.__jumpUrl||"",this.paramList.clickurl&&(this.jumpUrl=decodeURIComponent(this.paramList.clickurl))},initPageType:function(){var t=this.paramList.cg||"default",a=window.location.origin+window.location.pathname+t+"main";if(this.paramList.pw&&this.paramList.pw===this.pageToken)this.initPage();else if(localStorage.getItem(a)){if(this.userData=JSON.parse(localStorage.getItem(a)),(new Date).getTime()-this.userData.time>72e5)return localStorage.removeItem(a),void this.initPage();this.currentPrizeData=this.userData.prizeData,this.resetPage()}else this.initPage()},setLocalData:function(){var t=this.paramList.cg||"default",a=window.location.origin+window.location.pathname+t+"main",e={};e.prizeData=this.currentPrizeData,localStorage.removeItem(a),e.time=(new Date).getTime(),e=s()(e),localStorage.setItem(a,e)},initPage:function(){this.loadingFlag=!1,this.pageDialogFlag=!0},resetPage:function(){var t=this;this.loadingFlag=!0,this.pageDialogFlag=!1,setTimeout(function(){t.loadingFlag=!0,t.currentPrizeData=t.userData.prizeData||"",t.jumpToNextPage()},800)},jumpToNextPage:function(){var t=this;return this.counter.sentJumpData(1),this.loadingFlag=!0,"tp"===this.paramList.tp||"tp0"===this.paramList.tp||"tp1"===this.paramList.tp?(this.loadingFlag=!0,void setTimeout(function(){t.$router.push({name:"PageIframe",params:{prize:t.currentPrizeData}})},800)):"tp2"===this.paramList.tp?(this.loadingFlag=!0,void setTimeout(function(){t.$router.push({name:"PageForm",params:{prize:t.currentPrizeData}})},800)):("out"===this.paramList.clickid&&(this.paramList.tp?this.jumpUrl=window.location.origin+"/Html/"+this.paramList.tp+"/index.html"+window.location.search:this.jumpUrl=this.jumpUrl+this.util._getOtherQueryBase64("clickurl")),void window.location.replace(this.jumpUrl))},stopGame:function(t){var a=this;this.currentPrizeData=t,this.setLocalData(),setTimeout(function(){a.loadingFlag=!0,setTimeout(function(){a.loadingFlag=!1,a.jumpToNextPage()},2e3)},300)}},components:{WaveGame:m,WaveComment:p,WaveDialog:g.a,WaveLoading:f.a}},C={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-container"},[t.pageGameFlag&&t.pageGameData?e("wave-game",{attrs:{data:t.pageGameData},on:{stopGame:t.stopGame}}):t._e(),t._v(" "),t.pageCommentFlag&&t.pageCommentData?e("div",{staticClass:"comment"},[e("wave-comment",{attrs:{data:t.pageCommentData}})],1):t._e(),t._v(" "),t.pageDialogFlag&&t.pageDialogData?e("wave-dialog",{attrs:{data:t.pageDialogData}}):t._e(),t._v(" "),e("wave-loading",{directives:[{name:"show",rawName:"v-show",value:t.loadingFlag,expression:"loadingFlag"}]})],1)},staticRenderFns:[]};var w=e("VU/8")(_,C,!1,function(t){e("uuRY")},"data-v-0c6a72fb",null);a.default=w.exports},"q/Qz":function(t,a){},uuRY:function(t,a){},yXPG:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAACQElEQVQokV2TPYteVRSFn7X3OffOO44ZnCDiBwHBaPyoHGxEFCRYCGohiCAIFhZGy5AiWFhZpYmtiJCAvyCVQayEkF8QRJCkEMVAnBmced97z9nbIpNJcPXP2rDXWnru8+8wL8wJYQEISJQ2DJ2LVbG91+qPd5ZrX1YDSEB0khKAATWDHo1SJ9I7msaPTfXFbjq9PuTPW+v71wKuAISE0ygcynCsFfb+fgItR3xzb2sYD36Lbrtl/eCn5QFvknklBd1FpWP34CTJ0lHthCZcsR3zeGuOgkSjWM/qpDmSAbp/mTQyO5vH/4LjeXbl7ZXVWny6sb+hWPnz5rqcQBJHSFFioPNJDga3+1zfKGYv/LrLe0OZdk8tcj2VL7cebvCBJCWsgS6V0eOHYfGPrfY2osvP0YZzbezv58p5aLlGH/49UPTXB/JxYEFm7923mvnXZef2iaeWvz/92qPbv4xSfNuavsGNrZqMmmhBFrgJeRNESjQLlPrEpp1H/hyvnSSznjLvD+NBm+GxURwboPejn9IESwOkdzyzFi+TzQogkhQAEvS8G6B5A5IpjEghEjd7u5e4cd/2sDsACpEJ7jPFksQJd6wIK0Y6JwbzqyVSKA0wpCRTCPA6IQsyBAJzaCok8ezYVS0XV4sy6cNMqt/JsBWAhkPw0AjAeuIWGHq3Me/sx9zK5pO3nukf/fGhqx9rvbxayvTWPfB/ypJRwc7g/auFT+ilL74/jbfPehuWdzeSAh31Nh6glRjG9TrogiH+A72xEEUuqaumAAAAAElFTkSuQmCC"}});